flowchart TB
    subgraph "Records gá»‘c"
        R1[2KB Record]
        R2[40KB Record]
        R3[500KB Record]
        R4[1KB Record]
        R5[30KB Record]
        R6[80KB Record]
        R7[200KB Record]
    end

    subgraph "Aggregation"
        A1[Aggregated Record 1<br/>542KB]
        A2[Aggregated Record 2<br/>311KB]
    end

    subgraph "Collection"
        C1[Single PutRecords API Call]
    end

    R1 & R2 & R3 --> A1
    R4 & R5 & R6 & R7 --> A2
    A1 & A2 --> C1

    style R1 fill:#f9f,stroke:#333
    style R2 fill:#f9f,stroke:#333
    style R3 fill:#f9f,stroke:#333
    style R4 fill:#f9f,stroke:#333
    style R5 fill:#f9f,stroke:#333
    style R6 fill:#f9f,stroke:#333
    style R7 fill:#f9f,stroke:#333
    style A1 fill:#bbf,stroke:#333
    style A2 fill:#bbf,stroke:#333
    style C1 fill:#bfb,stroke:#333